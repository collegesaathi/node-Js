generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider          = "postgresql"
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
}

model Role {
  id         Int       @id @default(autoincrement())
  name       String    @unique
  created_at DateTime  @default(now())
  updated_at DateTime  @updatedAt
  deleted_at DateTime?
  users      User[]
}

model User {
  id                Int                @id @default(autoincrement())
  role_id           Int
  email             String             @unique
  full_name         String
  password          String
  profile_image     String?
  created_at        DateTime           @default(now())
  updated_at        DateTime           @updatedAt
  deleted_at        DateTime?
  blacklistedTokens BlacklistedToken[]
  role              Role               @relation(fields: [role_id], references: [id])
}

model University {
  id                 Int                          @id @default(autoincrement())
  slug               String                       @unique
  name               String
  icon               String?
  cover_image        String?
  position           Int?                         @default(0)
  description        Json?
  created_at         DateTime                     @default(now())
  updated_at         DateTime                     @updatedAt
  deleted_at         DateTime?
  blogs              Blog[]
  campus             Campus[]
  courseDetails      CourseDetails[]
  leads              leads[]
  about              UniversityAbout[]
  admissionProcess   UniversityAdmissionProcess[]
  advantages         UniversityAdvantages[]
  approvals          UniversityApprovals[]
  universityCampuses UniversityCampus[]
  certificates       UniversityCertificates[]
  details            UniversityDetail[]
  examPatterns       UniversityExamPatterns[]
  facts              UniversityFacts[]
  faq                UniversityFaq[]
  financialAid       UniversityFinancialAid[]
  partners           UniversityPartners[]
  rankings           UniversityRankings[]
  services           UniversityServices[]
}

model UniversityDetail {
  id            Int        @id @default(autoincrement())
  university_id Int
  cover_image   String?
  description   String?
  created_at    DateTime   @default(now())
  deleted_at    DateTime?
  updated_at    DateTime   @default(now())
  university    University @relation(fields: [university_id], references: [id])
}

model UniversityAbout {
  id            Int        @id @default(autoincrement())
  university_id Int
  title         String
  description   String?
  university    University @relation(fields: [university_id], references: [id])
}

model UniversityApprovals {
  id            Int        @id @default(autoincrement())
  university_id Int
  title         String
  description   String?
  approval_ids  Json?
  university    University @relation(fields: [university_id], references: [id])
}

model UniversityRankings {
  id            Int        @id @default(autoincrement())
  university_id Int
  title         String
  description   String?
  university    University @relation(fields: [university_id], references: [id])
}

model UniversityAdvantages {
  id            Int        @id @default(autoincrement())
  university_id Int
  title         String
  description   String?
  advantages    Json?
  university    University @relation(fields: [university_id], references: [id])
}

model UniversityFacts {
  id            Int        @id @default(autoincrement())
  university_id Int
  title         String
  facts         Json?
  university    University @relation(fields: [university_id], references: [id])
}

model UniversityCertificates {
  id            Int        @id @default(autoincrement())
  university_id Int
  title         String
  description   String?
  image         String?
  university    University @relation(fields: [university_id], references: [id])
}

model UniversityExamPatterns {
  id            Int        @id @default(autoincrement())
  university_id Int
  title         String
  description   String?
  bottompatterndesc   String?
  patterns         Json?
  university    University @relation(fields: [university_id], references: [id])
}

model UniversityFinancialAid {
  id            Int        @id @default(autoincrement())
  university_id Int
  title         String
  description   String?
  aid           Json?
  university    University @relation(fields: [university_id], references: [id])
}

model UniversityCampus {
  id            Int        @id @default(autoincrement())
  university_id Int
  campus         Json?
  university    University @relation(fields: [university_id], references: [id])
}

model UniversityPartners {
  id                   Int        @id @default(autoincrement())
  university_id        Int
  placement_partner_id Json?
  title                String
  description          String?
  university           University @relation(fields: [university_id], references: [id])
}

model UniversityServices {
  id            Int        @id @default(autoincrement())
  university_id Int
  title         String
  description   String?
  services      Json?
  university    University @relation(fields: [university_id], references: [id])
}

model UniversityAdmissionProcess {
  id            Int        @id @default(autoincrement())
  university_id Int
  title         String
  description   String?
  process       Json?
  university    University @relation(fields: [university_id], references: [id])
}

model UniversityFaq {
  id            Int        @id @default(autoincrement())
  university_id Int
  faqs          Json?
  university    University @relation(fields: [university_id], references: [id])
}

model Category {
  id          Int       @id @default(autoincrement())
  name        String
  short_title String?
  icon        String?
  created_at  DateTime  @default(now())
  updated_at  DateTime  @updatedAt
  deleted_at  DateTime?
  courses     Course[]
}

model Course {
  id           Int                 @id @default(autoincrement())
  category_id  Int
  slug         String              @unique
  name         String
  icon         String?
  image        String?
  created_at   DateTime            @default(now())
  updated_at   DateTime            @updatedAt
  deleted_at   DateTime?
  category     Category            @relation(fields: [category_id], references: [id])
  descriptions CourseDescription[]
  details      CourseDetails[]
  leads        leads[]
}

model CourseDescription {
  id          Int       @id @default(autoincrement())
  course_id   Int
  title       String
  description String?
  file        String?
  position    Int       @default(0)
  created_at  DateTime  @default(now())
  updated_at  DateTime  @updatedAt
  deleted_at  DateTime?
  course      Course    @relation(fields: [course_id], references: [id])
}

model CourseDetails {
  id            Int        @id @default(autoincrement())
  university_id Int
  course_id     Int
  cover_image   String?
  description   String?
  created_at    DateTime   @default(now())
  updated_at    DateTime   @updatedAt
  deleted_at    DateTime?
  course        Course     @relation(fields: [course_id], references: [id])
  university    University @relation(fields: [university_id], references: [id])
}

model BlogTag {
  id         Int       @id @default(autoincrement())
  name       String
  icon       String?
  created_at DateTime  @default(now())
  updated_at DateTime  @updatedAt
  deleted_at DateTime?
  tags       Tags[]
}

model Blog {
  id            Int         @id @default(autoincrement())
  university_id Int?
  title         String
  slug          String      @unique
  image         String?
  description   String?
  author        String?
  is_featured   Boolean     @default(false)
  is_pinned     Boolean     @default(false)
  is_trending   Boolean     @default(false)
  views         Int         @default(0)
  likes         Int         @default(0)
  dislikes      Int         @default(0)
  comments      Int         @default(0)
  created_at    DateTime    @default(now())
  updated_at    DateTime    @updatedAt
  deleted_at    DateTime?
  university    University? @relation(fields: [university_id], references: [id])
  tags          Tags[]
}

model Tags {
  id         Int       @id @default(autoincrement())
  blog_id    Int
  tag_id     Int
  created_at DateTime  @default(now())
  deleted_at DateTime? @db.Timestamp(6)
  blog       Blog      @relation(fields: [blog_id], references: [id], onDelete: Cascade)
  blogTag    BlogTag   @relation(fields: [tag_id], references: [id], onDelete: Cascade)

  @@map("tags")
}

model BlacklistedToken {
  id         Int      @id @default(autoincrement())
  token      String   @unique
  user_id    Int?
  created_at DateTime @default(now())
  user       User?    @relation(fields: [user_id], references: [id])
}

model Approvals {
  id         Int       @id @default(autoincrement())
  title      String
  image      String?
  created_at DateTime  @default(now())
  updated_at DateTime  @updatedAt
  deleted_at DateTime?
}

model Placements {
  id                 Int                  @id @default(autoincrement())
  title              String
  image              String?
  created_at         DateTime             @default(now())
  updated_at         DateTime             @updatedAt
  deleted_at         DateTime?
}

model Campus {
  id            Int         @id @default(autoincrement())
  university_id Int?
  title         String
  image         String?
  created_at    DateTime    @default(now())
  updated_at    DateTime    @updatedAt
  deleted_at    DateTime?
  university    University? @relation(fields: [university_id], references: [id])
}

model leads {
  id            Int         @id @default(autoincrement())
  university_id Int?
  name          String
  phone_number  String?
  email         String?
  course_id     Int?
  state         String?
  city          String?
  content       String?
  page_name     String?     
  created_at    DateTime    @default(now())
  updated_at    DateTime    @updatedAt
  deleted_at    DateTime?
  course        Course?     @relation(fields: [course_id], references: [id])
  university    University? @relation(fields: [university_id], references: [id])
}

